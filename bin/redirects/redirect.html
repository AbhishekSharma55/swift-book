<html>
<head>
    <title>The Swift Programming Language: Redirect</title>
    <meta http-equiv="refresh" content="10; url=https://docs.swift.org/swift-book/documentation/the-swift-programming-language/">
<head>
<body>
<div>
This content has moved; redirecting to the
<a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/" id="redirect">new location</a>.
<noscript>
<aside>
This page requires JavaScript.
Please turn on JavaScript and refresh the page.
</aside>
</noscript>
</div>
<script>
const headingRedirects = {
    "#ID461": "guidedtour#Simple-Values",
    "#ID462": "guidedtour#Control-Flow",
    "#ID463": "guidedtour#Functions-and-Closures",
}

const chapterRedirects = {
    // Tour
    "AboutSwift.html": "aboutswift",
    "Compatibility.html": "compatibility",
    "GuidedTour.html": "guidedtour",
    "GuidedTourPart.html": "guidedtour",

    // Guide
    "AccessControl.html": "accesscontrol",
    "AdvancedOperators.html": "advancedoperators",
    "AutomaticReferenceCounting.html": "automaticreferencecounting",
    "BasicOperators.html": "basicoperators",
    "ClassesAndStructures.html": "classesandstructures",
    "Closures.html": "closures",
    "CollectionTypes.html": "collectiontypes",
    "Concurrency.html": "concurrency",
    "ControlFlow.html": "controlflow",
    "Deinitialization.html": "deinitialization",
    "Enumerations.html": "enumerations",
    "ErrorHandling.html": "errorhandling",
    "Extensions.html": "extensions",
    "Functions.html": "functions",
    "Generics.html": "generics",
    "Inheritance.html": "inheritance",
    "Initialization.html": "initialization",
    "LanguageGuidePart.html": "languageguide",
    "MemorySafety.html": "memorysafety",
    "Methods.html": "methods",
    "NestedTypes.html": "nestedtypes",
    "OpaqueTypes.html": "opaquetypes",
    "OptionalChaining.html": "optionalchaining",
    "Properties.html": "properties",
    "Protocols.html": "protocols",
    "StringsAndCharacters.html": "stringsandcharacters",
    "Subscripts.html": "subscripts",
    "TheBasics.html": "thebasics",
    "TypeCasting.html": "typecasting",

    // Reference
    "AboutTheLanguageReference.html": "aboutthelanguagereference",
    "Attributes.html": "attributes",
    "Declarations.html": "declarations",
    "Expressions.html": "expressions",
    "GenericParametersAndArguments.html": "genericparametersandarguments",
    "LexicalStructure.html": "lexicalstructure",
    "Patterns.html": "patterns",
    "ReferenceManualPart.html": "referencemanual",
    "Statements.html": "statements",
    "Types.html": "types",
    "zzSummaryOfTheGrammar.html": "summaryofthegrammar",

    // Revision History
    "RevisionHistory.html": "revisionhistory",
    "RevisionHistoryPart.html": "revisionhistory",
}

const path = window.location.pathname;
const pathComponents = path.split("/");
const chapter = pathComponents[pathComponents.length - 1];

const hash = window.location.hash;

if (hash.startsWith("#//apple_ref/doc/uid/")) {
    const appleRefParts = hash.split("-");
    hash = appleRefParts[2];
}

const baseURL = "https://docs.swift.org/swift-book/documentation/the-swift-programming-language/";
var newURL = baseURL;

if (hash in headingRedirects) {
    const redirectPath = headingRedirects[hash];
    newURL = baseURL + redirectPath;
} else if (chapter in chapterRedirects) {
    const redirectPath = chapterRedirects[newPath];
    newURL = baseURL + redirectPath;
}

document.getElementById("redirect").setAttribute("href", newURL);
window.location = newURL;
</script>
</body>
</html>


<!--
URL with chapter, with hash
 - try to redirect by hash
 - if the hash is unknown, ignore it
   and fall through/back to chapter case

URL with chapter, no hash
 - try to redirect by chapter
 - fall back to the top level

URL with no chapter, no hash
 - fall back to the top level

URL with no chapter, with hash
 - input is probably invalid, but do the best we can
 - try to redirect by hash
 - fall back to the top level
-->
